<HTML>
<HEAD>
<TITLE> Kakadu Hyper-Doc (kdu_region_compositor::get_composition_buffer) </TITLE>
<STYLE TYPE="text/css">
<!--
.indented-text { padding-left: 20pt; }
.function-text { padding-left: 80pt;
                 text-indent: -60pt; }
-->
</STYLE>
</HEAD>
<BODY TEXT="#000000" LINK="#0000ff" BGCOLOR="#B4DCB4">
<P ALIGN="RIGHT">|<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="kdu$sitor__get$tion_dims.html"> prev </A>||<A HREF="kdu$sitor__pus$on_buffer.html"> next </A>|</P>
<H1><A NAME="ToP">kdu_region_compositor::get_composition_buffer</A></H1>
<DIR><DIR><H3><EM><U>Java:</U> Kdu_region_compositor.Get_composition_buffer</EM></H3></DIR></DIR>
<DIR><DIR><H3><EM><U>C#:</U> Ckdu_region_compositor.get_composition_buffer</EM></H3></DIR></DIR>
<DIR><DIR><H3><EM><U>VB:</U> Ckdu_region_compositor.get_composition_buffer</EM></H3></DIR></DIR>
<P CLASS="function-text"><A HREF ="kdu$r_buf.html">kdu_compositor_buf</A>&nbsp;* get_composition_buffer(
<A HREF ="kdu_dims.html">kdu_dims</A>&nbsp;&amp;&nbsp;region)</P>
<DIR><DIR><P CLASS="function-text"><EM><U>Java:</U> public native Kdu_compositor_buf Get_composition_buffer(
Kdu_dims&nbsp;region)</EM></P></DIR></DIR>
<DIR><DIR><P CLASS="function-text"><EM><U>C#:</U> public Kdu_compositor_buf get_composition_buffer(
Kdu_dims&nbsp;region)</EM></P></DIR></DIR>
<DIR><DIR><P CLASS="function-text"><EM><U>VB:</U> Public Function get_composition_buffer(
ByVal&nbsp;region&nbsp;As&nbsp;Kdu_dims) &nbsp;As&nbsp;Kdu_compositor_buf</EM></P></DIR></DIR>
<P>[Declared in <A HREF="++++apps+s$n_compositor+h.html">"../apps/support/kdu_region_compositor.h"</A>]</P><P><A HREF="kdu$sitor.html">Go to class description.</A></P>

<P ALIGN="CENTER"><HR></P><H2><A NAME="SynopsiS">Synopsis</A></H2>
<DIV CLASS="indented-text">
<P>
Returns a pointer to the buffer which stores composited
imagery, along with information about the region occupied
by the buffer on the composited image. To recover the
origin of the composited image, use 
<A HREF="kdu$sitor__get$tion_dims.html">get_total_composition_dims</A>.
</P><P>
 You should call this function again, whenever you
do anything which may affect the geometry of the composited
image. Specifically, you should call this function
again after any call to 
<A HREF="kdu$sitor__set$r_surface.html">set_buffer_surface</A>, 
<A HREF="kdu$sitor__set_scale.html">set_scale</A>, 
<A HREF="kdu$sitor__add$ing_layer.html">add_compositing_layer</A>, 
<A HREF="kdu$sitor__rem$ing_layer.html">remove_compositing_layer</A> or 
<A HREF="kdu$sitor__set$component.html">set_single_component</A>.
</P><P>
 Note that the buffer returned by this function may
or may not be the current working buffer which is affected
by calls to 
<A HREF="kdu$sitor__process.html">process</A>. In particular, if 
<A HREF="kdu$sitor__pus$on_buffer.html">push_composition_buffer</A> has been used to create a non-empty queue of fully
composed composition buffers, the present function
returns a pointer to the head of the queue. If the
queue is empty, the returned pointer refers to the
current working buffer. Whether or not the composition
buffer queue is empty may itself be determined by calling
<B>inspect_buffer_queue</B> with an 
<B>elt</B> argument of 0.
</P>
</DIV>

<P ALIGN="CENTER"><HR></P><H2><A NAME="ReturnS">Return Value</A></H2><DIV CLASS="indented-text">
<P>
NULL if composition cannot be performed at the current
scale, or with the current flipping requirements &mdash;
see the description of 
<A HREF="kdu$sitor__get$tion_dims.html">get_total_composition_dims</A> for more on this, particularly with reference to the
need to call 
<A HREF="kdu$sitor__che$cale_code.html">check_invalid_scale_code</A>.
</P><P>
 Otherwise, the returned buffer uses 4 bytes to represent
each pixel. We define the buffer as an array of 32-bit
words so as to force alignment on 4-byte boundaries.
The most significant byte in each word represents alpha,
followed by red, green and blue which is in the least
significant byte of the word.
</P>
</DIV>
<H2><A NAME="ArgS">Arguments</A></H2><DIV CLASS="indented-text">
<H4><A NAME="region">region</A> [<A HREF ="kdu_dims.html">kdu_dims</A>&nbsp;&amp;]</H4><DIV CLASS="indented-text">
</DIV>
</DIV>

<P ALIGN="CENTER"><HR></P><P ALIGN="RIGHT">|<A HREF="#ToP"> top </A>||<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="kdu$sitor__get$tion_dims.html"> prev </A>||<A HREF="kdu$sitor__pus$on_buffer.html"> next </A>|</P>
</BODY>
</HTML>
