<HTML>
<HEAD>
<TITLE> Kakadu Hyper-Doc (jpx_composition::add_instruction) </TITLE>
<STYLE TYPE="text/css">
<!--
.indented-text { padding-left: 20pt; }
.function-text { padding-left: 80pt;
                 text-indent: -60pt; }
-->
</STYLE>
</HEAD>
<BODY TEXT="#000000" LINK="#0000ff" BGCOLOR="#B4DCB4">
<P ALIGN="RIGHT">|<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="jpx$ition__add_frame.html"> prev </A>||<A HREF="jpx$ition__set$oop_count.html"> next </A>|</P>
<H1><A NAME="ToP">jpx_composition::add_instruction</A></H1>
<DIR><DIR><H3><EM><U>Java:</U> Jpx_composition.Add_instruction</EM></H3></DIR></DIR>
<DIR><DIR><H3><EM><U>C#:</U> Cjpx_composition.add_instruction</EM></H3></DIR></DIR>
<DIR><DIR><H3><EM><U>VB:</U> Cjpx_composition.add_instruction</EM></H3></DIR></DIR>
<P CLASS="function-text"><B>int</B> add_instruction(
<B>jx_frame</B>&nbsp;*&nbsp;frame_ref,
<B>int</B>&nbsp;layer_idx,
<B>int</B>&nbsp;increment,
<A HREF ="kdu_dims.html">kdu_dims</A>&nbsp;source_dims,
<A HREF ="kdu_dims.html">kdu_dims</A>&nbsp;target_dims)</P>
<DIR><DIR><P CLASS="function-text"><EM><U>Java:</U> public native int Add_instruction(
long&nbsp;frame_ref,
int&nbsp;layer_idx,
int&nbsp;increment,
Kdu_dims&nbsp;source_dims,
Kdu_dims&nbsp;target_dims)</EM></P></DIR></DIR>
<DIR><DIR><P CLASS="function-text"><EM><U>C#:</U> public int add_instruction(
IntPtr,
int&nbsp;layer_idx,
int&nbsp;increment,
Kdu_dims&nbsp;source_dims,
Kdu_dims&nbsp;target_dims)</EM></P></DIR></DIR>
<DIR><DIR><P CLASS="function-text"><EM><U>VB:</U> Public Function add_instruction(
ByVal&nbsp;As&nbsp;IntPtr,
ByVal&nbsp;layer_idx&nbsp;As&nbsp;Integer,
ByVal&nbsp;increment&nbsp;As&nbsp;Integer,
ByVal&nbsp;source_dims&nbsp;As&nbsp;Kdu_dims,
ByVal&nbsp;target_dims&nbsp;As&nbsp;Kdu_dims) &nbsp;As&nbsp;Integer</EM></P></DIR></DIR>
<P>[Declared in <A HREF="++++apps+c$essed_io+jpx+h.html">"../apps/compressed_io/jpx.h"</A>]</P><P><A HREF="jpx$ition.html">Go to class description.</A></P>

<P ALIGN="CENTER"><HR></P><H2><A NAME="SynopsiS">Synopsis</A></H2>
<DIV CLASS="indented-text">
<P>
Use this function to add one or more instructions to
each added frame.
</P>
</DIV>

<P ALIGN="CENTER"><HR></P><H2><A NAME="ReturnS">Return Value</A></H2><DIV CLASS="indented-text">
<P>
The sequence number (starting from 0) of the instruction
being added.
</P>
</DIV>
<H2><A NAME="ArgS">Arguments</A></H2><DIV CLASS="indented-text">
<H4><A NAME="frame_ref">frame_ref</A> [<B>jx_frame</B>&nbsp;*]</H4><DIV CLASS="indented-text">
<P>
Opaque pointer returned by 
<A HREF="jpx$ition__add_frame.html">add_frame</A>.
</P>
</DIV>
<H4><A NAME="layer_idx">layer_idx</A> [<B>int</B>]</H4><DIV CLASS="indented-text">
<P>
Each instruction involves a single compositing layer,
whose index is given here. 0 refers to the first compositing
layer in the file. If the frame is to be repeated,
this is the index of the compositing layer to use in
the first repetition. Thereafter, the index is advanced
by 
<A HREF="jpx$ition__add$struction.html#increment">increment</A> each time.
</P>
</DIV>
<H4><A NAME="increment">increment</A> [<B>int</B>]</H4><DIV CLASS="indented-text">
<P>
Ignored unless the frame is repeated. Each time the
frame is repeated (see 
<B>repeat_count</B> argument to 
<A HREF="jpx$ition__add_frame.html">add_frame</A>), the layer index is incremented by this value. Frame
repetition stops immediately if the layer index grows
beyond the number of layers available from the file.
As an example, you might like to build a composite
animation from a consecutive sequence of layers (
<A HREF="jpx$ition__add$struction.html#increment">increment</A>=1) which are composed onto a fixed background layer
(
<A HREF="jpx$ition__add$struction.html#increment">increment</A>=0).
</P><P>
 Note that there can be some weird sequences of layer
increments which the internal machinery will not be
able to represent efficiently. As a general rule, you
should try to use only positive and zero-valued increments
(although negative increments are not forbidden) and
you should try to use the same increments for all instructions
in the frame.
</P>
</DIV>
<H4><A NAME="source_dims">source_dims</A> [<A HREF ="kdu_dims.html">kdu_dims</A>]</H4><DIV CLASS="indented-text">
<P>
Specifies the cropped region within the compositing
layer which is to be used by this instruction. The
region is expressed on the compositing layer's registration
grid, as described with 
<A HREF="jpx$1arget__set$stration.html">jpx_layer_target::set_codestream_registration</A>.
</P>
</DIV>
<H4><A NAME="target_dims">target_dims</A> [<A HREF ="kdu_dims.html">kdu_dims</A>]</H4><DIV CLASS="indented-text">
<P>
Specifies the region on the composition surface to
which the cropped source region should be rendered.
This may involve some scaling.
</P><P>
 Note, however, that compositing applications might
not necessarily support arbitrary scaling factors.
Kakadu's powerful 
<A HREF="kdu$sitor.html">kdu_region_compositor</A> object, for example, might not support anything other
than integer-valued upsampling.
</P>
</DIV>
</DIV>

<P ALIGN="CENTER"><HR></P><P ALIGN="RIGHT">|<A HREF="#ToP"> top </A>||<A HREF="#SynopsiS"> synopsis </A>||<A HREF="#ReturnS"> return value </A>||<A HREF="#ArgS"> arguments </A>||<A HREF="jpx$ition__add_frame.html"> prev </A>||<A HREF="jpx$ition__set$oop_count.html"> next </A>|</P>
</BODY>
</HTML>
